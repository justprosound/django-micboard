<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    {% load static %}
    <link rel="shortcut icon" type="image/png" href="{% static 'micboard/favicon.png' %}">
    <link rel="apple-touch-icon" href="{% static 'micboard/logo.png' %}">

    <!-- https://medium.com/appscope/designing-native-like-progressive-web-apps-for-ios-1b3cdda1d0e8 -->
    <!-- iPhone 8 Plus, 7 Plus, 6s Plus, 6 Plus (1242px x 2208px) -->
    <link rel="apple-touch-startup-image" href="{% static 'micboard/splash/iPad-Pro-12.9-portrait-1668x2224.png" %} media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="{% static 'micboard/splash/iPad-Pro-12.9-landscape-2224x1668.png" %} media="(device-width: 1112px) and (device-height: 834px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">
    <link rel="apple-touch-startup-image" href="{% static 'micboard/splash/iPad-Pro-10.5-portrait-2048x2732.png" %} media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="{% static 'micboard/splash/iPad-Pro-10.5-landscape-2732x2048.png" %} media="(device-width: 1366px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">
    <link rel="apple-touch-startup-image" href="{% static 'micboard/splash/iPad-portrait-1536x2048.png" %} media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="{% static 'micboard/splash/iPad-landscape-2048x1536.png" %} media="(device-width: 1024px) and (device-height: 768px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">
    <link rel="apple-touch-startup-image" href="{% static 'micboard/splash/iPhone-Xs-Max-portrait-1242x2688.png" %} media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="{% static 'micboard/splash/iPhone-Xs-Max-landscape-2688x1242.png" %} media="(device-width: 896px) and (device-height: 414px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)">
    <link rel="apple-touch-startup-image" href="{% static 'micboard/splash/iPhone-Xr-portrait-828x1792.png" %} media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="{% static 'micboard/splash/iPhone-Xr-landscape-1792x828.png" %} media="(device-width: 896px) and (device-height: 414px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">
    <link rel="apple-touch-startup-image" href="{% static 'micboard/splash/iPhone-X-portrait-1125x2436.png" %} media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="{% static 'micboard/splash/iPhone-X-landscape-2436x1125.png" %} media="(device-width: 812px) and (device-height: 375px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)">
    <link rel="apple-touch-startup-image" href="{% static 'micboard/splash/iPhone-Plus-portrait-1242x2208.png" %} media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="{% static 'micboard/splash/iPhone-Plus-landscape-2208x1242.png" %} media="(device-width: 736px) and (device-height: 414px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)">
    <link rel="apple-touch-startup-image" href="{% static 'micboard/splash/iPhone-portrait-750x1334.png" %} media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="{% static 'micboard/splash/iPhone-landscape-1334x750.png" %} media="(device-width: 667px) and (device-height: 375px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">
    <link rel="apple-touch-startup-image" href="{% static 'micboard/splash/iPhone-SE-portrait-640x1136.png" %} media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="{% static 'micboard/splash/iPhone-SE-landscape-1136x640.png" %} media="(device-width: 568px) and (device-height: 320px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">

    <title>micboard</title>

  </head>
  <body>
    <div id="hud" class="container">
      <div class="row">
        <div class="col-4 keyboard-guide">
          <h2 class="text-center">Keyboard Shortcuts</h2>
          <ul>
            <li><kbd>?</kbd> - Show keyboard shortcuts</li>
            <li><kbd>0</kbd> - Show all slots</li>
            <li><kbd>1</kbd>...<kbd>9</kbd> - Load group</li>
            <li><kbd>d</kbd> - Start demo mode</li>
            <li><kbd>e</kbd> - Open group editor</li>
            <li><kbd>t</kbd> - Toggle TV view</li>
            <li><kbd>i</kbd> - Change tv display mode</li>
            <li><kbd>f</kbd> - Toggle fullscreen</li>
            <li><kbd>g</kbd> - Toggle image backgrounds</li>
            <li><kbd>v</kbd> - Toggle video backgrounds</li>
            <li><kbd>n</kbd> - Extended Name editor</li>
            <li><kbd>s</kbd> - Device configuration editor</li>
            <li><kbd>q</kbd> - Show QR code</li>
            <li><kbd>esc</kbd> - reload micboard</li>
          </ul>
        </div>
        <div class="col-8 color-guide">
          <h2 class="text-center">Color Guide</h2>


          <div class="container">
            <div class="row">
              <div class="col color-guide-color GOOD">
                <h3>Good</h3>
                <p>Mic ON.  4 - 5 Battery Bars.</p>
              </div>
              <div class="col color-guide-color PREV_GOOD">
                <h3>Previously Good</h3>
                <p>Mic OFF.  4 - 5 Battery Bars.</p>
              </div>
            </div>

            <div class="row">
              <div class="col color-guide-color REPLACE">
                <h3>Replace</h3>
                <p>Mic ON.  3 Battery Bars.</p>
              </div>
              <div class="col color-guide-color PREV_REPLACE">
                <h3>Previously Replace</h3>
                <p>Mic OFF.  3 Battery Bars.</p>
              </div>
            </div>

            <div class="row">
              <div class="col color-guide-color CRITICAL">
                <h3>Critical</h3>
                <p>Mic ON.  1 - 2 Battery Bars.</p>
              </div>
              <div class="col color-guide-color PREV_CRITICAL">
                <h3>Previously Critical</h3>
                <p>Mic OFF.  1 - 2 Battery Bars.</p>
              </div>
            </div>

            <div class="row">
              <div class="col color-guide-color UNASSIGNED">
                <h3>Unknown</h3>
                <p>Micboard doeesn't make battery assumptions once a mic is off for over 30 minutes.</p>
              </div>
            </div>

            <div class="row">
              <div class="col color-guide-color RX_COM_ERROR">
                <h3>RX COM Error</h3>
                <p>Micboard can't connect to the device.</p>
              </div>
              <div class="col color-guide-color AUDIO_PEAK">
                <h3>Audio Peak</h3>
                <p>Input peak.</p>
              </div>
            </div>
          </div>

        </div>
      </div>

      <button id="hud-button" type="button" class="btn btn-success btn-lg btn-block">Close</button>

    </div>
    <div class="container-fluid fullHeight deskmode" id="container">

      <div class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered">
          <div class="modal-content">
            <div class="qr text-center">
              <p id="micboard-version"></p>
              <p><a id="largelink" href=""></a></p>
              <canvas id="qrcode"></canvas>
            </div>
          </div>
        </div>
      </div>


      <div class="sidebar-nav">
        <h1 id='sidebarTitle'>Group 4</h1>
        <div class="slot-prototype-list drag-container" id="eslotlist">

        </div>
        <div class="form-group">
          <input type="text" class="form-control" id="groupTitle" placeholder="title">
          <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text">Hide inactive charts</span>
            </div>

            <div class="input-group-text">
              <input type="checkbox" id="chartCheck">
            </div>
          </div>

          <button type="button" class="btn btn-success btn-lg btn-block" id="editorSave">Save</button>
          <button type="button" class="btn btn-warning btn-lg btn-block" id="editorClose">Close</button>
          <button type="button" class="btn btn-danger btn-lg btn-block" id="editorClear">Clear</button>
        </div>
      </div>
      <div id="micboard" class="row above-mid bg-std elinfo11 drag-container">

      </div>

      <div class="above-mid message-board">
        <h1>Connection Error!</h1>
        <p>Could not connect to the micboard server. Please refresh the page.</p>
      </div>
      <div class="settings">

        <div class="row">

          <div class="col-xl-6" id="cfg-discovered-col">
            <div class="config-header">
              <h3 class="text-center">Discovered Devices</h3>
            </div>

            <div id="discovered_list"></div>
            <div class="config-footer">
              <div class="form-row">

                <div class="col">
                  <button id="add-discovered" class="btn btn-block btn-danger">Add All Discovered Devices</button>
                </div>

              </div>
            </div>
          </div>

          <div class="col-xl-6" id="cfg-slot-col">
            <div class="config-header">
              <h3 class="text-center">Slot Configuration</h3>
            </div>
            <div id="editor_holder"></div>
            <div class="config-footer">
              <div class="form-row">

                <div class="col">
                  <button id="clear-config" class="btn btn-block btn-danger">Clear</button>
                </div>
                <div class="col">
                  <button id="add-config-row" class="btn btn-block btn-warning">Add Row</button>
                </div>
                <div class="col">
                  <button id="save" class="btn btn-block btn-success">Save</button>
                </div>

              </div>
            </div>
          </div>
        </div>




        <div style="height: 50px;"></div>
      </div>
      <nav class="navbar fixed-top navbar-dark bg-dark py-0">
        <div class="pos-f-t">

          <div class="collapse" id="navbarToggleExternalContent">
            <div class="bg-dark p-4 navbar-nav" id="grouplist">
              <h4 class="text-white"><a class="nav-link" href='/'>micboard</a></h4>
              <p class="text-muted"><a class="nav-link preset-link" id="go-group-0">all devices</a> | <a class="nav-link" id="go-extended" href="#">edit extended names</a> | <a class="nav-link" id="go-config">edit config</a></p>
              <p class="text-muted"><a class="nav-link" id="go-groupedit" href="#">edit group</a></p>
              <div id="navbar-grouplist">
                <p class="text-muted grp-link"><a class="nav-link preset-link" id="go-group-1">1:</a></p>
                <p class="text-muted grp-link"><a class="nav-link preset-link" id="go-group-2">2:</a></p>
                <p class="text-muted grp-link"><a class="nav-link preset-link" id="go-group-3">3:</a></p>
                <p class="text-muted grp-link"><a class="nav-link preset-link" id="go-group-4">4:</a></p>
                <p class="text-muted grp-link"><a class="nav-link preset-link" id="go-group-5">5:</a></p>
                <p class="text-muted grp-link"><a class="nav-link preset-link" id="go-group-6">6:</a></p>
                <p class="text-muted grp-link"><a class="nav-link preset-link" id="go-group-7">7:</a></p>
                <p class="text-muted grp-link"><a class="nav-link preset-link" id="go-group-8">8:</a></p>
                <p class="text-muted grp-link"><a class="nav-link preset-link" id="go-group-9">9:</a></p>
              </div>
            </div>
          </div>
          <nav class="navbar navbar-dark bg-dark py-0">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarToggleExternalContent">
              <span class="navbar-toggler-icon"></span>
            </button>

          </nav>

        </div>
        <!-- <div class="text-muted text-center">Micboard</div> -->
      </nav>
    </div>
    <template id="column-template">
      <div class="col-sm">
        <div class="mic_name">
          <p class="mic_id"></p>
          <p class="name"></p>
        </div>
        <div class="electrode"></div>

        <div class="info-drawer">
          <div class="battery-bars">
            <div class="battery-bar battery-bar-1"></div>
            <div class="battery-bar battery-bar-2"></div>
            <div class="battery-bar battery-bar-3"></div>
            <div class="battery-bar battery-bar-4"></div>
            <div class="battery-bar battery-bar-5"></div>
          </div>
          <div class="chartzone">
            <p class="runtime"></p>
            <p class="offset"></p>
            <canvas class="slotgraph"></canvas>
            <p class="quality"></p>
            <p class="frequency"></p>
          </div>

          <div class="errorzone">
            <p class="errortype">RX COM Error</p>
            <p class="ip"></p>
            <p class="rxinfo"></p>
          </div>

          <div class="editzone">
            <div class="form-row">
              <div class="col">
                <input type="text" class="form-control ext-id" aria-label="Default" aria-describedby="inputGroup-sizing-default" autocomplete="off" placeholder="ID">
              </div>
              <div class="col">
                <input type="text" class="form-control ext-name" aria-label="Default" aria-describedby="inputGroup-sizing-default" autocomplete="off" placeholder="Name">
              </div>
            </div>
          </div>

          <div class="diversity">
            <div class="diversity-bar"></div>
            <div class="diversity-bar"></div>
          </div>
        </div>
      </div>
    </template>

    <template id="save-template">
      <div class="col-sm" id="paste-box">
        <div class="form-row">
          <div class="col">
            <textarea class="form-control" id="bulkbox" rows="3"></textarea>
          </div>
        </div>
        <div class="form-row">
          <div class="col">
            <button type="button" class="btn btn-success btn-block" id="bulk-name-loader">Load Bulk Names</button>
          </div>
        </div>
      </div>
      <div class="col-sm" id="save-box">
        <div class="form-row">
          <div class="col">
            <button type="button" class="btn btn-success btn-block" id="slotSave">Save</button>
          </div>
        </div>

        <div class="form-row">
          <div class="col">
            <button type="button" class="btn btn-secondary btn-warning btn-block" id="clear-id">Clear IDs</button>
          </div>
          <div class="col">
            <button type="button" class="btn btn-secondary btn-warning btn-block" id="clear-name">Clear Names</button>
          </div>
        </div>
      </div>
    </template>

    <template id="config-slot-template">
      <div class="form-row cfg-row">
        <div class="col-md-1 col-4 navbar-dark align-middle cfg-row-form">
          <span class="navbar-toggler-icon"></span>
        </div>
        <div class="col-md-2 col-4 slot-number text-center cfg-row-form"><label class="col-form-label"></label></div>

        <div class="col-md-1 order-md-12 col-4 del-btn cfg-row-form">
          <button type="button btn-block" class="btn float-right btn-danger"><span aria-hidden="true">&times;</span></button>
        </div>

        <div class="col-md-4 col-12 cfg-row-form">
          <input type="text" class="form-control cfg-ip" placeholder="IP Address">
        </div>

        <div class="col-md-2 col-6 cfg-row-form">
          <select class="form-control cfg-type">
            <option></option>
            <option>axtd</option>
            <option>ulxd</option>
            <option>qlxd</option>
            <option>uhfr</option>
            <option>p10t</option>
            <option>offline</option>
          </select>
        </div>

        <div class="col-md-2 col-6 cfg-row-form">
          <select class="form-control cfg-channel">
            <option>1</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
          </select>
        </div>

      </div>
    </template>
    <!-- https://stackoverflow.com/questions/32621988/electron-jquery-is-not-defined -->
    <script>if (typeof module === 'object') {window.module = module; module = undefined;}</script>
    <script>
      window.dataURL = "{% url 'micboard:data_json' %}";
      window.slotURL = "{% url 'micboard:slot' %}";
      window.configURL = "{% url 'micboard:config' %}";
      window.groupURL = "{% url 'micboard:group' %}";
    </script>
    <script src="{% static 'micboard/app.js' %}"></script>
    <script>if (window.module) module = window.module;</script>

  </body>
</html>
